<!DOCTYPE html>

<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="main_layout.html">


    <div layout:fragment="siteContent">

        <div class="align-content-start mb-3">

            <button type="button" class="btn" style="background-color: #0688c2; color: white" data-bs-toggle="modal" data-bs-target="#addTask">
                + Add New Task
            </button>

            <div class="modal fade" id="addTask" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h1 class="modal-title fs-5" id="staticBackdropLabel">New Task</h1>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <div th:insert="addForm.html">
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>

        <table class="table">
            <thead>
            <tr>
                <th>ID</th>
                <th>NAME</th>
                <th>DEADLINE DATE</th>
                <th>IS COMPLETED</th>
                <th>DETAILS</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="task : ${tasks}">
                <td th:text="${task.id}"></td>
                <td th:text="${task.name}"></td>
                <td th:text="${task.deadlineDate}"></td>
                <td th:text="${task.isCompleted() ? 'YES' : 'NO'}"></td>
                <td>
                    <a th:href="@{'/details/' + ${task.id}}">
                        <button class="btn" style="width: 100%; background-color: #0688c2; color: white">DETAILS</button>
                    </a>
                </td>
            </tr>
            </tbody>
        </table>
    </div>



</html>